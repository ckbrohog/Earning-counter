<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>WageWatcher - Real-Time Earnings</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      background: #f7f9f7;
      font-family: Arial, sans-serif;
      color: #333;
      transition: background 0.4s ease, color 0.4s ease;
    }

    body.night {
      background: #1e1e1e;
      color: #ddd;
    }

    #mainContainer {
      max-width: 600px;
      margin: 60px auto 120px auto;
      background: white;
      border-radius: 12px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.1);
      padding: 30px 40px 50px 40px;
      box-sizing: border-box;
    }

    body.night #mainContainer {
      background: #2a2a2a;
    }

    nav {
      text-align: center;
      margin-bottom: 30px;
    }

    nav a {
      margin: 0 15px;
      text-decoration: none;
      color: #2e8b57;
      font-weight: 600;
      font-size: 1.2em;
    }

    nav a:hover {
      text-decoration: underline;
    }

    h1 {
      text-align: center;
      color: #2e8b57;
      margin-bottom: 8px;
    }

    p {
      text-align: center;
      font-size: 1.1em;
      margin-top: 0;
      margin-bottom: 25px;
      color: #555;
    }

    .earnings-container {
      text-align: center;
      margin-bottom: 40px;
    }

    .earnings-box {
      display: inline-block;
      width: 45%;
      padding: 15px 20px;
      margin: 0 10px;
      border: 2px solid #2e8b57;
      border-radius: 8px;
      background-color: #eaf6ea;
      box-sizing: border-box;
    }

    #earnings, #earningsAfterTax {
      font-weight: bold;
      font-size: 2.4em;
      color: #2e8b57;
    }

    #deliveryContainer {
      text-align: center;
    }

    #deliveryCount {
      font-size: 2.4em;
      margin: 0 20px;
      display: inline-block;
      min-width: 50px;
    }

    button {
      font-size: 1.5em;
      padding: 10px 20px;
      margin: 10px 5px;
      border: none;
      border-radius: 8px;
      background-color: #2e8b57;
      color: white;
      cursor: pointer;
      user-select: none;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: #246b44;
    }

    #addDeliveryBtn {
      display: block;
      margin: 40px auto 0;
      padding: 15px 40px;
      font-size: 1.8em;
      font-weight: bold;
    }

    #popupMessage {
      position: fixed;
      top: 20%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #2e8b57;
      color: white;
      font-size: 2em;
      padding: 20px 40px;
      border-radius: 15px;
      box-shadow: 0 6px 15px rgba(0,0,0,0.2);
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.4s ease-in-out;
      z-index: 1000;
      user-select: none;
    }

    #popupMessage.show {
      opacity: 1;
      pointer-events: auto;
    }

    #bottomUI {
      position: fixed;
      bottom: 10px;
      left: 10px;
      right: 10px;
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
      z-index: 999;
    }

    #checkInShopBox {
      background: #f2f2f2;
      border: 2px solid #ccc;
      padding: 15px 20px;
      border-radius: 12px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.15);
      max-width: 300px;
      font-size: 0.95em;
    }

    #pointsDisplayBox {
      margin-top: 15px;
      font-size: 1.1em;
    }

    #toggleNightMode {
      background-color: #333;
      color: #fff;
      font-size: 1.2em;
      padding: 12px;
      border-radius: 50%;
      border: none;
      cursor: pointer;
    }

    #quoteBox {
      position: fixed;
      top: 10px;
      width: 100%;
      text-align: center;
      font-style: italic;
      color: #444;
      font-size: 1.1em;
      z-index: 800;
    }

    #animationContainer img {
      position: absolute;
      width: 40px;
      pointer-events: none;
      z-index: 1001;
    }
  </style>
</head>
<body>
<div id="quoteBox"><em id="dailyQuote">Loading quote...</em></div>

<div id="mainContainer">
  <nav>
    <a href="#">Home</a>
    <a href="#">Log</a>
    <a href="#">About Us</a>
  </nav>

  <h1>Real-Time Earnings Counter</h1>
  <p>Mock Pay: From 7:30 AM to 4:00 PM at $17/hour</p>

  <div class="earnings-container">
    <div class="earnings-box">
      <div>Earnings (Before Tax)</div>
      <div id="earnings">$0.00</div>
    </div>
    <div class="earnings-box">
      <div>Earnings (After 10.51% Tax)</div>
      <div id="earningsAfterTax">$0.00</div>
    </div>
  </div>

  <div id="deliveryContainer">
    <h2>Deliveries Made</h2>
    <button id="decreaseDeliveryBtn">-</button>
    <span id="deliveryCount">0</span>
    <button id="increaseDeliveryBtn">+</button>
    <button id="addDeliveryBtn">Add Delivery</button>
  </div>
</div>

<div id="bottomUI">
  <div id="checkInShopBox">
    <h3>Daily Check-In</h3>
    <button id="checkInBtn">Check In (+100 pts)</button>
    <h3 style="margin-top: 20px;">Point Shop</h3>
    <button id="buyMedalBtn">Buy ‚ÄúGo F*** Yourself‚Äù Medal (300 pts)</button>
    <div id="pointsDisplayBox">
      <strong>Your Points:</strong> <span id="pointsDisplay">0</span>
    </div>
  </div>
  <button id="toggleNightMode" aria-label="Toggle Night Mode">üåô</button>
</div>

<div id="popupMessage" role="alert" aria-live="assertive"></div>
<div id="animationContainer"></div>

<script>
  const hourlyRate = 17, taxRate = 0.1051;
  const startHour = 7, startMinute = 30;
  const endHour = 16, endMinute = 0;
  const positiveMessages = ["Nice!", "Cool!", "Sweet!", "Keep going!"];
  const quotes = [
    "‚ÄúSuccess is the sum of small efforts, repeated day-in and day-out.‚Äù",
    "‚ÄúDon‚Äôt watch the clock; do what it does. Keep going.‚Äù",
    "‚ÄúHard work beats talent when talent doesn‚Äôt work hard.‚Äù",
    "‚ÄúStart where you are. Use what you have. Do what you can.‚Äù"
  ];

  const earningsEl = document.getElementById('earnings');
  const earningsAfterTaxEl = document.getElementById('earningsAfterTax');
  const deliveryCountEl = document.getElementById('deliveryCount');
  const increaseDeliveryBtn = document.getElementById('increaseDeliveryBtn');
  const decreaseDeliveryBtn = document.getElementById('decreaseDeliveryBtn');
  const addDeliveryBtn = document.getElementById('addDeliveryBtn');
  const checkInBtn = document.getElementById('checkInBtn');
  const pointsDisplay = document.getElementById('pointsDisplay');
  const buyMedalBtn = document.getElementById('buyMedalBtn');
  const popupMessage = document.getElementById('popupMessage');
  const toggleNightMode = document.getElementById('toggleNightMode');
  const animationContainer = document.getElementById('animationContainer');
  const quoteBox = document.getElementById('dailyQuote');

  let deliveries = parseInt(localStorage.getItem('deliveries') || '0');
  let points = parseInt(localStorage.getItem('points') || '0');
  let lastCheckIn = localStorage.getItem('lastCheckIn') || '';

  function updateEarnings() {
    const now = new Date();
    const start = new Date(); start.setHours(startHour, startMinute, 0, 0);
    const end = new Date(); end.setHours(endHour, endMinute, 0, 0);
    let earnings = 0;

    if (now < start) earnings = 0;
    else if (now > end) earnings = ((end - start) / (1000 * 60 * 60)) * hourlyRate;
    else earnings = ((now - start) / (1000 * 60 * 60)) * hourlyRate;

    earningsEl.textContent = `$${earnings.toFixed(2)}`;
    earningsAfterTaxEl.textContent = `$${(earnings * (1 - taxRate)).toFixed(2)}`;
  }

  function updateDeliveryCount() {
    deliveryCountEl.textContent = deliveries;
    localStorage.setItem('deliveries', deliveries);
  }

  function updatePointsDisplay() {
    pointsDisplay.textContent = points;
    localStorage.setItem('points', points);
  }

  function showPopup(text) {
    popupMessage.textContent = text;
    popupMessage.classList.add('show');
    setTimeout(() => popupMessage.classList.remove('show'), 1200);
  }

  function doAnimation() {
    for (let i = 0; i < 10; i++) {
      const img = document.createElement('img');
      img.src = i % 2 === 0
        ? 'https://upload.wikimedia.org/wikipedia/commons/thumb/0/00/Rocket_Emoji.png/72px-Rocket_Emoji.png'
        : 'https://upload.wikimedia.org/wikipedia/commons/thumb/0/02/Cat_emoji_u1f408.svg/72px-Cat_emoji_u1f408.svg.png';
      img.style.left = `${Math.random() * 100}%`;
      img.style.bottom = '-100px';
      img.style.transition = 'bottom 3s ease-out, transform 3s ease-in';
      animationContainer.appendChild(img);

      requestAnimationFrame(() => {
        img.style.bottom = '110%';
        img.style.transform = 'rotate(360deg)';
      });

      setTimeout(() => img.remove(), 4000);
    }
  }

  increaseDeliveryBtn.onclick = () => { deliveries++; updateDeliveryCount(); };
  decreaseDeliveryBtn.onclick = () => { deliveries = Math.max(0, deliveries - 1); updateDeliveryCount(); };
  addDeliveryBtn.onclick = () => { deliveries++; updateDeliveryCount(); showPopup(positiveMessages[Math.floor(Math.random()*positiveMessages.length)]); };

  checkInBtn.onclick = () => {
    const today = new Date().toDateString();
    if (lastCheckIn !== today) {
      points += 100;
      lastCheckIn = today;
      localStorage.setItem('lastCheckIn', today);
      updatePointsDisplay();
      showPopup("+100 points!");
    } else {
      showPopup("Already checked in today!");
    }
  };

  buyMedalBtn.onclick = () => {
    if (points >= 300) {
      points -= 300;
      updatePointsDisplay();
      showPopup("Medal purchased!");
      doAnimation();
    } else {
      showPopup("Not enough points!");
    }
  };

  toggleNightMode.onclick = () => {
    document.body.classList.toggle('night');
    localStorage.setItem('nightMode', document.body.classList.contains('night'));
  };

  if (localStorage.getItem('nightMode') === 'true') {
    document.body.classList.add('night');
  }

  quoteBox.textContent = quotes[new Date().getDate() % quotes.length];
  updateDeliveryCount();
  updatePointsDisplay();
  updateEarnings();
  setInterval(updateEarnings, 1000);
</script>
</body>
</html>
